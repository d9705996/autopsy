# ADR 0008 â€” OpenTelemetry for traces and metrics

**Status:** Accepted  
**Date:** 2025-02

## Context

Distributed tracing and metrics are needed to diagnose Autopsy performance in
production.

## Decision

Use the [OpenTelemetry Go SDK](https://opentelemetry.io/docs/languages/go/):
- **Traces**: OTLP/gRPC export when `OTLP_ENDPOINT` is set; no-op otherwise.
- **Metrics**: Prometheus exposition via `otelprometheus` exporter; scraped
  at `GET /metrics`.

## Consequences

- No vendor lock-in: any OTLP-compatible backend (Grafana Tempo, Jaeger,
  Honeycomb) works.
- Prometheus scraping works out-of-the-box without extra sidecars.
- `OTLP_ENDPOINT` being empty (default) incurs zero overhead.
